version: 2

models:
  # ==========================================================================
  # WORKDAY STUDENT MASTER MODEL
  # ==========================================================================
  - name: stg_wd__students
    description: |
      Staging model for student data from Workday Student (NEW system of record).
      
      This model provides cleaned and standardized student information including
      demographics, contact details, academic programs, and status flags. Workday
      is the primary source system replacing legacy Jenzabar CX.
      
      **Grain**: One row per student
      **Source**: workday.sta_student_wd
      **Materialization**: View
      **Updates**: Refreshed with each dbt run (currently manual CSV loads)
      **Owner**: Registrar / Data Engineering
      
      **Key Features:**
      - Uses preferred names when available (falls back to legal names)
      - Combines duplicate middle name fields from Workday
      - Converts numeric flags (0/1) to booleans (true/false)
      - Standardizes nulls (empty strings → NULL)
      - Includes MATCHING_HISTORICAL_STUDENT for linking to Jenzabar CX
      
      **Integration Notes:**
      - This is the PRIMARY source for current students
      - Jenzabar CX data used as fallback for legacy students
      - MATCHING_HISTORICAL_STUDENT field enables cross-system matching
    
    columns:
      # =====================================================================
      # PRIMARY KEY
      # =====================================================================
      - name: student_id
        description: |
          Primary student identifier from Workday Student (REFERENCEID_62792180).
          This is the system-generated unique ID for each student in Workday.
          
          Used as the natural key for entity resolution in dim_integration_ids.
        tests:
          - not_null
          - unique
      
      # =====================================================================
      # NAME FIELDS
      # =====================================================================
      - name: first_name
        description: |
          Student's first name - uses preferred first name if available,
          falls back to legal first name (FIRSTNAME).
          
          This field prioritizes how the student wants to be addressed.
        tests:
          - not_null
      
      - name: last_name
        description: Student's legal last name
        tests:
          - not_null
      
      - name: middle_name
        description: |
          Student's middle name - combines two middle name fields from Workday
          (MIDDLE_NAME_9181921 and MIDDLE_NAME_349405).
      
      - name: full_legal_name
        description: Complete legal name as a single string (from FULL_LEGAL_NAME)
      
      - name: full_name_fml
        description: Full name formatted as First Middle Last
      
      - name: full_name_lfmi
        description: Full name formatted as Last, First Middle Initial
      
      - name: legal_name
        description: Student's complete legal name
      
      - name: preferred_name
        description: Student's preferred full name (if different from legal)
      
      - name: name_prefix
        description: Name prefix (Dr., Mr., Ms., etc.)
      
      # =====================================================================
      # CONTACT INFORMATION
      # =====================================================================
      - name: email
        description: |
          Primary institutional email address (PRIMARY_INSTITUTIONAL_EMAIL_ADDRESS).
          Standardized to lowercase for matching purposes.
          
          **CRITICAL FIELD** for cross-system entity resolution (matching to
          Jenzabar CX, PowerFAIDS, Slate via email).
        tests:
          - not_null
      
      # =====================================================================
      # ADDRESS
      # =====================================================================
      - name: city
        description: City from primary home address
      
      - name: state
        description: State/province from primary home address
      
      - name: postal_code
        description: Postal/ZIP code from primary home address
      
      - name: county
        description: County from primary home address
      
      - name: country
        description: Country from primary home address
      
      # =====================================================================
      # DEMOGRAPHICS
      # =====================================================================
      - name: birth_date
        description: Student's date of birth (DATE_OF_BIRTH)
        tests:
          - not_null
      
      - name: age
        description: |
          Student's current age as calculated by Workday.
          Updated automatically by Workday system.
      
      - name: age_group
        description: Age range grouping from Workday
      
      - name: gender
        description: Student's gender
      
      - name: gender_identity
        description: |
          Student's gender identity (if different from assigned gender).
          Used for inclusive reporting and student services.
      
      - name: sexual_orientation
        description: Student's sexual orientation (if provided)
      
      - name: pronoun
        description: Student's preferred pronouns (he/him, she/her, they/them, etc.)
      
      - name: race_ethnicities
        description: |
          Student's race and ethnicity designations.
          May contain multiple values from Workday's race/ethnicity taxonomy.
      
      - name: race_ethnicity_dw
        description: |
          Rewritten race/ethnicity for data warehouse reporting.
          Standardized format for IPEDS and other reporting requirements.
      
      - name: is_hispanic_or_latino
        description: |
          Boolean flag indicating Hispanic or Latino ethnicity.
          Derived from HISPANIC_OR_LATINO field (1=true, 0=false).
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: citizenship_status
        description: Student's citizenship status
      
      - name: citizenship_countries
        description: Countries of citizenship (may be multiple)
      
      - name: primary_nationality
        description: Student's primary nationality
      
      - name: nationality_citizenship_status
        description: Combined nationality and citizenship status
      
      - name: countries_of_residence
        description: Countries where student has resided
      
      - name: region_of_birth
        description: Geographic region where student was born
      
      - name: marital_status
        description: Student's marital status
      
      - name: religion
        description: Student's religious affiliation (if provided)
      
      - name: languages
        description: Languages spoken by student
      
      # =====================================================================
      # ACADEMIC INFORMATION
      # =====================================================================
      - name: academic_unit
        description: |
          Student's primary academic unit (college, school, division).
          Used for departmental reporting and advising.
      
      - name: primary_academic_level
        description: |
          Student's academic level (Freshman, Sophomore, Junior, Senior, Graduate).
          Used for class standing reports.
      
      - name: primary_program_of_study
        description: |
          Student's primary program/major.
          This is the PRIMARY academic program field for reporting.
      
      - name: academic_records
        description: References to student's academic records in Workday
      
      - name: academic_record_status
        description: Status of the academic record
      
      - name: active_academic_records
        description: List of currently active academic records
      
      - name: active_reporting_records
        description: Academic records that should be included in reporting
      
      - name: class_rank
        description: Student's class rank (if calculated)
      
      - name: class_size
        description: Total size of student's graduating class
      
      # =====================================================================
      # STUDENT STATUS FLAGS
      # =====================================================================
      - name: is_active_matriculated
        description: |
          Boolean flag indicating if student is currently matriculated (enrolled).
          TRUE = student is actively matriculated
          FALSE = not currently matriculated (withdrawn, graduated, etc.)
          
          **KEY FIELD** for identifying current students.
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: is_matriculated
        description: |
          Boolean flag indicating if student has ever matriculated.
          Different from is_active_matriculated - this shows historical matriculation.
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: is_active_worker
        description: |
          Boolean flag indicating if student is also an active employee.
          Used to identify student-workers.
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: is_graduated
        description: Boolean flag indicating if student has graduated
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: is_deceased
        description: Boolean flag indicating if student is deceased
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: is_first_generation
        description: |
          Boolean flag indicating first-generation college student status.
          Important for student services, retention programs, and reporting.
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: has_national_identifier
        description: |
          Boolean flag indicating if student has a national identifier (SSN, SIN, etc.).
          Used for financial aid and tax reporting eligibility.
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: has_privacy_block
        description: |
          Boolean flag indicating FERPA privacy block.
          TRUE = student has requested directory information not be released.
          
          **CRITICAL** for FERPA compliance - must be checked before releasing data.
        tests:
          - accepted_values:
              values: [true, false]
      
      # =====================================================================
      # MILITARY
      # =====================================================================
      - name: has_military_relationship
        description: |
          Boolean flag indicating student has a military relationship
          (veteran, active duty, dependent, etc.).
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: parent_on_active_duty
        description: |
          Boolean flag indicating student's parent is on active military duty.
          Used for dependent benefits.
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: military_service
        description: Type of military service (if applicable)
      
      - name: military_status_for_benefits
        description: Military status for educational benefits eligibility
      
      # =====================================================================
      # HISTORICAL/MERGE TRACKING
      # =====================================================================
      - name: matching_historical_student
        description: |
          **CRITICAL FIELD FOR ENTITY RESOLUTION**
          
          Reference to historical/legacy student record from Jenzabar CX.
          Workday uses this field to link new Workday Student records back to
          their corresponding Jenzabar CX student IDs.
          
          This enables high-confidence matching between systems in dim_integration_ids.
          
          **Example:** If this field contains "JCX-789012", then this Workday
          student corresponds to student ID 789012 in Jenzabar CX.
      
      - name: activated_historical_student
        description: Reference to historical student that was activated
      
      - name: historical_activation_datetime
        description: Date/time when historical student record was activated in Workday
      
      - name: match_status
        description: Status of match to historical student record
      
      - name: is_unmerged
        description: |
          Boolean flag indicating if this is an unmerged duplicate record.
          TRUE = this record is a duplicate that should be merged.
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: primary_merged_student
        description: |
          Reference to the primary student record if this is a merged duplicate.
          If populated, this record is secondary to another student record.
      
      - name: former_worker
        description: Reference to former worker record (if student was previously employee)
      
      # =====================================================================
      # OTHER RECORDS/ACTIVITIES
      # =====================================================================
      - name: active_student_applications
        description: List of active applications (if student has pending applications)
      
      - name: awards_and_activities
        description: Student awards, honors, and extracurricular activities
      
      - name: extracurricular_activities
        description: Extracurricular activities and organizations
      
      - name: current_housing_status
        description: Current on-campus housing status
      
      - name: all_appointments
        description: Student appointments (advising, tutoring, etc.)
      
      # =====================================================================
      # FINANCIAL AID
      # =====================================================================
      - name: financial_aid_award_years
        description: |
          Academic years for which student has financial aid awards.
          Used to determine financial aid eligibility and history.
      
      - name: financial_aid_record
        description: Reference to student's financial aid record in Workday
      
      # =====================================================================
      # IDENTIFIERS
      # =====================================================================
      - name: reference_id_alt
        description: |
          Alternate reference ID from Workday (REFERENCEID_54572908).
          Purpose varies by institution - may be external system ID.
      
      - name: other_ids
        description: |
          Other identification numbers from external systems.
          May include previous institution IDs, state IDs, etc.
      
      - name: additional_names
        description: Additional names, aliases, or name variations
      
      # =====================================================================
      # ADMINISTRATIVE
      # =====================================================================
      - name: institution
        description: Institution identifier (if multi-institution Workday instance)
      
      - name: created_on_date
        description: |
          Date when student record was created in Workday.
          Used as effective_date in dim_integration_ids if available.
      
      - name: date_of_death
        description: Date of death (if applicable and is_deceased = true)
      
      - name: official_transcript_note
        description: Note that appears on official transcripts
      
      # =====================================================================
      # METADATA COLUMNS (from add_source_metadata macro)
      # =====================================================================
      - name: _source_system
        description: Source system identifier (WORKDAY)
        tests:
          - not_null
          - accepted_values:
              values: ['WORKDAY']
      
      - name: _source_table
        description: Source table name (STA_STUDENT_WD)
        tests:
          - not_null
      
      - name: _data_classification
        description: Data classification level (CONFIDENTIAL - contains extensive PII)
        tests:
          - not_null
      
      - name: _data_owner
        description: Data owner department (REGISTRAR)
        tests:
          - not_null
      
      - name: _dbt_loaded_at
        description: Timestamp when dbt processed this record
        tests:
          - not_null

  # ==========================================================================
  # WORKDAY ACADEMIC PROGRAM MODEL
  # ==========================================================================
  - name: stg_wd__acad
    description: |
      Staging model for student academic program data from Workday Student.
      
      This model provides academic program information including enrollment status,
      academic standing, GPA, program of study, and related academic records.
      
      **IMPORTANT DESIGN NOTE**: Many fields in the source contain semicolon-separated
      lists (e.g., "Fall 2017; Spring 2020; Summer 2019"). These are preserved as-is
      in this staging model following the principle of source fidelity. Splitting/
      unnesting happens in intermediate models (see int_wd__academic_periods_unnested).
      
      **Grain**: One row per student academic record
      **Source**: workday.sta_acad_wd
      **Materialization**: View
      **Updates**: Refreshed with each dbt run (currently manual CSV loads)
      **Owner**: Registrar / Data Engineering
      
      **Key Features:**
      - Converts numeric flags (0/1) to booleans (true/false)
      - Standardizes nulls (empty strings → NULL)
      - Preserves semicolon-separated fields for downstream processing
      - Includes MATCHING_HISTORICAL_STUDENT for linking to Jenzabar CX
      
      **Integration Notes:**
      - Join to stg_wd__students via: student_id = student_id
      - This is the PRIMARY source for academic standing/GPA for current students
      - Jenzabar CX data (stg_jcx__students) used as fallback for legacy students
      - Integration happens in int_students_academic model
    
    columns:
      # =====================================================================
      # PRIMARY KEYS
      # =====================================================================
      - name: student_id
        description: |
          Numeric student identifier from Workday.
          Links to stg_wd__students.student_id for demographic data.
        tests:
          - not_null
      
      - name: reference_id
        description: |
          Character-based student reference ID.
          Alternative identifier - some systems prefer varchar over numeric.
      
      - name: universal_id
        description: |
          Universal identifier that may span multiple Workday systems
          (Student, HR, Finance, etc.).
      
      # =====================================================================
      # ACADEMIC LEVEL & PROGRAM
      # =====================================================================
      - name: academic_level
        description: |
          Current academic level (Undergraduate, Graduate, Doctoral, etc.).
          Used for program classification and reporting.
      
      - name: primary_academic_plan
        description: |
          Student's primary academic plan (major/program).
          More specific than primary_program_of_study.
      
      - name: primary_program_of_study
        description: |
          Student's primary program of study.
          Broader program designation than academic_plan.
      
      - name: primary_program_of_study_completion_status
        description: |
          Completion status of the primary program
          (In Progress, Completed, Withdrawn, etc.).
      
      - name: primary_program_of_study_record_status
        description: |
          Current status of the program record
          (Active, Inactive, Suspended, etc.).
      
      # =====================================================================
      # DEGREE/CERTIFICATE STATUS
      # =====================================================================
      - name: is_degree_seeking
        description: |
          Boolean flag indicating if student is seeking a degree or certificate.
          FALSE = non-degree seeking (audit, continuing education, etc.)
          TRUE = degree/certificate seeking
        tests:
          - accepted_values:
              values: [true, false]
      
      # =====================================================================
      # ACADEMIC PERIODS (SINGLE VALUES)
      # =====================================================================
      - name: first_academic_period
        description: |
          First academic period/term for this student.
          Example: "Fall 2020"
      
      - name: first_standard_academic_period_for_student
        description: First standard academic period (normalized term code)
      
      - name: current_standard_academic_period
        description: Current standard academic period (term student is currently in)
      
      - name: last_academic_period_with_final_grade
        description: Most recent academic period where final grades were posted
      
      - name: current_academic_year
        description: Current academic year designation (e.g., "2024-2025")
      
      # =====================================================================
      # ACADEMIC PERIODS (SEMICOLON-SEPARATED - PRESERVED AS-IS)
      # =====================================================================
      - name: academic_periods_with_academic_period_records
        description: |
          **SEMICOLON-SEPARATED LIST** of academic periods where student has records.
          Example: "Fall 2017; Spring 2020; Summer 2019"
          
          This field is preserved as-is in staging. To analyze individual terms,
          use the int_wd__academic_periods_unnested model which splits this field
          using LATERAL FLATTEN.
          
          Do NOT attempt to parse this field directly in downstream models.
      
      - name: academic_calendar_as_of_primary_program_of_study_declare_date
        description: |
          Academic calendar reference at time of program declaration.
          May contain semicolon-separated values.
      
      - name: academic_period_records
        description: |
          Academic period record IDs (semicolon-separated).
          These are internal Workday IDs for academic period records.
      
      # =====================================================================
      # ACADEMIC STANDING & PERFORMANCE
      # =====================================================================
      - name: latest_academic_standing
        description: |
          Most recent academic standing designation.
          Examples: "Good Standing", "Academic Probation", "Dean's List"
          
          **KEY FIELD** for academic intervention and reporting.
      
      - name: latest_class_standing
        description: |
          Most recent class standing.
          Examples: "Freshman", "Sophomore", "Junior", "Senior", "Graduate"
      
      - name: latest_load_status
        description: |
          Most recent enrollment load status.
          Examples: "Full-time", "Part-time", "Three-Quarter Time", "Less Than Half Time"
      
      - name: anticipated_load_status
        description: Anticipated load status for upcoming term (used for planning)
      
      - name: gpa_cumulative_institutional
        description: |
          Cumulative institutional GPA (courses taken at this institution only).
          Numeric value with 3 decimal places (e.g., 3.456).
          
          **PRIMARY GPA FIELD** for most reporting purposes.
        tests:
          - dbt_utils.accepted_range:
              min_value: 0.0
              max_value: 4.5
              inclusive: true
      
      - name: gpa_cumulative_overall
        description: |
          Cumulative overall GPA including transfer credits.
          May be higher or lower than institutional GPA depending on transfer work.
        tests:
          - dbt_utils.accepted_range:
              min_value: 0.0
              max_value: 4.5
              inclusive: true
      
      - name: gpa_transfer
        description: |
          GPA calculated from transfer credits only.
          May be 0 if no transfer credits or if institution doesn't calculate.
      
      # =====================================================================
      # ENROLLMENT STATUS
      # =====================================================================
      - name: is_currently_enrolled
        description: |
          Boolean flag indicating current enrollment status.
          TRUE = student is currently enrolled in courses
          FALSE = not currently enrolled (between terms, withdrawn, graduated)
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: current_housing_status
        description: Current on-campus housing/residency status
      
      - name: enrolled_unit_type
        description: Type of enrollment unit (credit hours, contact hours, etc.)
      
      # =====================================================================
      # DEMOGRAPHICS (DUPLICATED FROM STUDENT TABLE)
      # =====================================================================
      # Note: These fields also exist in stg_wd__students. Generally prefer
      # the student table for demographics, but these are included here for
      # completeness and to avoid joins in simple queries.
      
      - name: birth_date
        description: |
          Student's date of birth.
          Duplicated from sta_student_wd - prefer stg_wd__students for demographics.
      
      - name: gender
        description: Student's gender (duplicated from student table)
      
      - name: citizenship_status
        description: Citizenship status (duplicated from student table)
      
      - name: primary_nationality_citizenship_status
        description: Primary nationality and citizenship (duplicated from student table)
      
      - name: country_of_birth
        description: Student's country of birth (duplicated from student table)
      
      - name: state_of_birth
        description: Student's state of birth if US-born (duplicated from student table)
      
      - name: marital_status
        description: Student's marital status (duplicated from student table)
      
      # =====================================================================
      # SPECIAL POPULATIONS
      # =====================================================================
      - name: is_international_student
        description: |
          Boolean flag for international student status.
          TRUE = requires F-1, J-1, or other visa
          FALSE = US citizen or permanent resident
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: is_student_athlete
        description: |
          Boolean flag for student-athlete status.
          TRUE = participates in NCAA/NAIA athletics
          FALSE = not a student-athlete
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: is_first_generation
        description: |
          Boolean flag for first-generation college student.
          TRUE = neither parent completed 4-year degree
          FALSE = at least one parent has 4-year degree
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: has_military_relationship
        description: |
          Boolean flag indicating military affiliation.
          TRUE = veteran, active duty, dependent, etc.
          FALSE = no military relationship
        tests:
          - accepted_values:
              values: [true, false]
      
      # =====================================================================
      # DATES
      # =====================================================================
      - name: application_date
        description: Date when student applied to this program
      
      - name: start_date
        description: |
          Program start date (first day of enrollment in this program).
          Used for cohort analysis and retention tracking.
      
      - name: expected_completion_date
        description: |
          Expected program completion/graduation date.
          May be updated as student progresses through program.
      
      - name: declare_date_for_new_program_of_study_for_new_academic_calendar
        description: Date when student declared this program of study
      
      - name: effective_date_of_student_program_of_study_record_status
        description: Effective date of the current program status
      
      - name: effective_date_for_earliest_inactive_program_of_study_record_status_assignment
        description: Date when program first became inactive (if applicable)
      
      # =====================================================================
      # ACADEMIC RECORD STATUS
      # =====================================================================
      - name: academic_record_status
        description: |
          Overall status of the academic record.
          Examples: "Active", "Inactive", "Graduated", "Withdrawn"
      
      - name: is_academic_record_locked
        description: |
          Boolean flag indicating if record is locked for editing.
          TRUE = record is locked (usually after graduation or withdrawal)
          FALSE = record can be modified
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: has_pending_grades
        description: |
          Boolean flag indicating incomplete grade posting.
          TRUE = some courses have grades not yet posted
          FALSE = all expected grades have been posted
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: has_no_registered_courses
        description: |
          Boolean flag indicating no course registrations.
          TRUE = student has no registered courses for current term
          FALSE = student has at least one registered course
        tests:
          - accepted_values:
              values: [true, false]
      
      # =====================================================================
      # INSTITUTION & ACADEMIC UNIT
      # =====================================================================
      - name: institution
        description: Institution identifier (if multi-institution Workday instance)
      
      - name: institution_academic_unit
        description: Institutional academic unit (college, school, division)
      
      - name: academicunit
        description: |
          Academic unit designation.
          May be duplicate of institution_academic_unit - Workday data model variation.
      
      # =====================================================================
      # STUDENT TYPE
      # =====================================================================
      - name: student_applicant_type
        description: |
          Applicant type classification.
          Examples: "First-Time Freshman", "Transfer", "Returning", "Graduate"
      
      - name: student_applicant_type_category
        description: Broader category of applicant type
      
      - name: number_of_non_degree_programs
        description: Count of non-degree or certificate programs student is enrolled in
      
      # =====================================================================
      # PRIVACY & STATUS FLAGS
      # =====================================================================
      - name: has_privacy_block
        description: |
          Boolean flag indicating FERPA privacy block.
          TRUE = directory information cannot be released
          FALSE = directory information may be released per policy
          
          **CRITICAL** for FERPA compliance.
        tests:
          - accepted_values:
              values: [true, false]
      
      - name: is_deceased
        description: Boolean flag indicating if student is deceased
        tests:
          - accepted_values:
              values: [true, false]
      
      # =====================================================================
      # HISTORICAL/INTEGRATION FIELD
      # =====================================================================
      - name: matching_historical_student
        description: |
          **CRITICAL FIELD FOR ENTITY RESOLUTION**
          
          Reference to historical/legacy student record from Jenzabar CX.
          Links this Workday academic record back to corresponding Jenzabar CX student.
          
          Used for high-confidence matching in dim_integration_ids.
          
          **Integration Note**: This field should match the same field in
          stg_wd__students, enabling joins across both Workday tables and
          to Jenzabar CX.
      
      # =====================================================================
      # SEMICOLON-SEPARATED REFERENCE FIELDS
      # =====================================================================
      # The following fields contain semicolon-separated lists of IDs or
      # references. These are preserved as-is in staging. Create specific
      # unnesting models only if these fields are needed for analysis.
      
      - name: academic_record
        description: Academic record reference IDs (semicolon-separated)
      
      - name: academic_requirement_s__for_student
        description: Academic requirements for student (semicolon-separated)
      
      - name: academic_requirement_area_assignments
        description: Requirement area assignments (semicolon-separated)
      
      - name: academic_requirement_overrides
        description: Requirement overrides (semicolon-separated)
      
      - name: academic_requirements
        description: Academic requirements (semicolon-separated)
      
      - name: activated_historical_academic_record
        description: Activated historical record references (semicolon-separated)
      
      - name: active_holdable_assignments
        description: Active hold assignments (semicolon-separated)
      
      - name: all_academic_periods_for_continuing_student_registration_onboarding
        description: Academic periods for continuing student onboarding (semicolon-separated)
      
      - name: all_cumulative_gpa_overrides
        description: GPA override records (semicolon-separated)
      
      - name: awards_and_activities
        description: |
          Student awards, honors, and activities (semicolon-separated).
          Consider creating int_wd__awards_unnested if detailed award analysis needed.
      
      - name: citizenship_countries
        description: Countries of citizenship (semicolon-separated if multiple)
      
      - name: current_athletic_teams
        description: |
          Current athletic team memberships (semicolon-separated).
          Example: "Men's Basketball; Baseball"
      
      - name: financial_aid_period_records
        description: Financial aid period record IDs (semicolon-separated)
      
      - name: financial__aid_record
        description: Financial aid record reference
      
      - name: historical_academic_record
        description: Historical academic record references (semicolon-separated)
      
      - name: historical_academic_record_activation_date_and_time
        description: Timestamp when historical record was activated in Workday
      
      - name: historical_academic_record_on_transcript_record
        description: Historical records that appear on transcript (semicolon-separated)
      
      - name: historical_match_reconciliations
        description: Match reconciliation records (semicolon-separated)
      
      - name: internal_articulated_registrations
        description: Internal articulated registration records (semicolon-separated)
      
      - name: new_academic_calendar_for_new_program_of_study
        description: New academic calendar reference for program changes
      
      - name: new_program_of_study_for_new_academic_calendar
        description: New program of study reference for calendar changes
      
      - name: program_cip_code_on_academic_record_start_date
        description: CIP code at time of program start (for IPEDS reporting)
      
      - name: programs_of_study
        description: |
          All programs of study (semicolon-separated).
          Example: "BA Psychology; Minor in Statistics"
          
          Consider creating int_wd__programs_unnested for detailed program analysis.
      
      - name: race_ethnicities
        description: Race and ethnicity designations (semicolon-separated)
      
      - name: sexual_orientations
        description: Sexual orientation(s) if multiple provided (semicolon-separated)
      
      - name: student
        description: Student reference/ID (Workday internal identifier)
      
      - name: student_accomplishments
        description: Student accomplishments (semicolon-separated)
      
      - name: student_applications
        description: Application record references (semicolon-separated)
      
      - name: student_cohort
        description: Primary student cohort designation
      
      - name: student_cohort_assignments
        description: |
          All cohort assignments (semicolon-separated).
          Example: "Class of 2025; Honors Program; First Generation"
      
      - name: student_cohorts
        description: All cohorts student belongs to (semicolon-separated)
      
      - name: student_groupings
        description: Student grouping assignments (semicolon-separated)
      
      - name: student_hold_assignments
        description: |
          Hold assignments (semicolon-separated).
          Example: "Financial Hold; Advising Hold"
          
          Consider unnesting if holds need to be analyzed individually.
      
      - name: student_program_of_study_record
        description: Program of study record reference (Workday internal ID)
      
      - name: visa_id_types
        description: Visa ID types for international students (semicolon-separated)
      
      # =====================================================================
      # METADATA COLUMNS
      # =====================================================================
      - name: _dbt_loaded_at
        description: |
          Timestamp when dbt processed this record.
          Added by dbt, not from source system.
        tests:
          - not_null